plugins {
    id 'io.micronaut.build.internal.module'
}

dependencies {
    annotationProcessor(libs.micronaut.docs.asciidoc.config.props)
    annotationProcessor mn.micronaut.inject.java
    api(libs.managed.neo4j.java.driver)
    api mn.micronaut.runtime
    api mn.micronaut.validation
    api mn.reactor
    compileOnly(libs.managed.neo4j.harness)
    compileOnly mn.micronaut.management
    testImplementation(libs.managed.neo4j.harness)
    testImplementation mn.micronaut.management
    testImplementation mn.micronaut.test.spock
    testImplementation mn.spock
}

micronautBuild {
	resolutionStrategy {
		force(libs.neo4j.harness)
	}
}

test {
    if (JavaVersion.current() != JavaVersion.VERSION_1_8) {
        jvmArgs '--add-exports=java.base/sun.nio.ch=ALL-UNNAMED'
    }
}
